(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{445:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),r=s(2115),l=s(1741),i=s(8350),n=s(7288),c=s(1267);function o(){let[e,a]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0),[d,m]=(0,r.useState)(i.x.getCurrentUser()),[x,h]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!d){window.location.href="/login";return}u()},[d]);let u=async()=>{if(!d||0===d.watchlist.length)return void o(!1);try{o(!0),h("");let e=[];for(let a=0;a<d.watchlist.length;a+=5){let s=d.watchlist.slice(a,a+5).map(async e=>{try{return await l._t.getAnimeById(e)}catch(a){return console.error("Erro ao carregar anime ".concat(e,":"),a),null}}),t=await Promise.all(s);e.push(...t.filter(e=>null!==e)),a+5<d.watchlist.length&&await new Promise(e=>setTimeout(e,500))}a(e)}catch(e){console.error("Erro ao carregar lista:",e),h("Erro ao carregar sua lista. Tente novamente.")}finally{o(!1)}},g=()=>{let e=i.x.getCurrentUser();m(e),e&&u()};return d?(0,t.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,t.jsx)(n.A,{}),(0,t.jsx)("main",{className:"pt-24 pb-20",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Minha Lista"}),(0,t.jsx)("p",{className:"text-gray-400",children:d.watchlist.length>0?"".concat(d.watchlist.length," animes na sua lista"):"Sua lista est\xe1 vazia"})]}),x&&(0,t.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg mb-6",children:x}),s?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white text-lg",children:"Carregando sua lista..."})]})}):e.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:e.map(e=>(0,t.jsx)(c.A,{anime:e,onWatchlistChange:g},e.mal_id))}):(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("i",{className:"ri-bookmark-line text-6xl text-gray-400 mb-6"}),(0,t.jsx)("h2",{className:"text-2xl text-white mb-4",children:"Lista vazia"}),(0,t.jsx)("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Adicione animes \xe0 sua lista para assisti-los mais tarde. Clique no \xedcone de bookmark nos animes que voc\xea quer salvar."}),(0,t.jsxs)("a",{href:"/",className:"bg-red-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-red-700 transition-colors inline-flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,t.jsx)("i",{className:"ri-search-line"}),"Explorar Animes"]})]})]})})]}):null}},9841:(e,a,s)=>{Promise.resolve().then(s.bind(s,445))}},e=>{e.O(0,[244,976,441,964,358],()=>e(e.s=9841)),_N_E=e.O()}]);