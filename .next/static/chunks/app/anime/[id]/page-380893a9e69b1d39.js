(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{2576:(e,s,t)=>{"use strict";t.d(s,{default:()=>b});var a=t(5155),r=t(2115),i=t(6874),l=t.n(i),n=t(1741),c=t(8350),o=t(7288),d=t(9868),x=t(540);function m(e){let{animeId:s}=e,[t,i]=(0,r.useState)([]),[l,n]=(0,r.useState)(""),[o,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),[u,p]=(0,r.useState)(c.x.getCurrentUser());(0,r.useEffect)(()=>{j()},[s]);let j=()=>{i(c.z.getComments(s))},b=async e=>{if(e.preventDefault(),!u){window.location.href="/login";return}if(l.trim()){g(!0);try{let e=c.z.addComment(s,l.trim(),o||void 0);e&&(i(s=>[e,...s]),n(""),m(null))}catch(e){console.error("Erro ao adicionar coment\xe1rio:",e)}finally{g(!1)}}},f=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0;return(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>(0,a.jsx)("button",{type:s?"button":void 0,onClick:s&&t?()=>t(r):void 0,className:"text-lg ".concat(r<=e?"text-yellow-400":"text-gray-500"," ").concat(s?"hover:text-yellow-300 cursor-pointer":""),disabled:!s,children:(0,a.jsx)("i",{className:"ri-star-fill"})},r))})};return(0,a.jsxs)("section",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6",children:["Coment\xe1rios (",t.length,")"]}),u?(0,a.jsx)("form",{onSubmit:b,className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[u.avatar?(0,a.jsx)("img",{src:u.avatar,alt:u.name,className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-bold",children:u.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("textarea",{value:l,onChange:e=>n(e.target.value),placeholder:"Escreva seu coment\xe1rio sobre este anime...",className:"w-full p-3 bg-gray-800 text-white rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-red-500 border border-gray-700",rows:3,maxLength:500,required:!0}),(0,a.jsxs)("div",{className:"text-right text-gray-400 text-xs mt-1",children:[l.length,"/500"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-white text-sm",children:"Avalia\xe7\xe3o:"}),f(o||0,!0,m),o&&(0,a.jsx)("button",{type:"button",onClick:()=>m(null),className:"text-gray-400 hover:text-white text-xs cursor-pointer",children:"Limpar"})]}),(0,a.jsx)("button",{type:"submit",disabled:h||!l.trim(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",children:h?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):"Comentar"})]})]})]})}):(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 text-center mb-8",children:[(0,a.jsx)("i",{className:"ri-user-line text-4xl text-gray-400 mb-3"}),(0,a.jsx)("h4",{className:"text-white text-lg font-semibold mb-2",children:"Fa\xe7a login para comentar"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Entre na sua conta para compartilhar sua opini\xe3o sobre este anime"}),(0,a.jsx)("a",{href:"/login",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors inline-block cursor-pointer",children:"Fazer Login"})]}),t.length>0?(0,a.jsx)("div",{className:"space-y-6",children:t.map(e=>(0,a.jsxs)("div",{className:"flex gap-4",children:[e.userAvatar?(0,a.jsx)("img",{src:e.userAvatar,alt:e.userName,className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-bold",children:e.userName.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.userName}),e.rating&&f(e.rating)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",suppressHydrationWarning:!0,children:(0,d.m)(new Date(e.createdAt),{addSuffix:!0,locale:x.F})}),u&&u.id===e.userId&&(0,a.jsx)("button",{onClick:()=>{var s;return s=e.id,void(c.z.deleteComment(s),i(e=>e.filter(e=>e.id!==s)))},className:"text-gray-400 hover:text-red-400 cursor-pointer",title:"Excluir coment\xe1rio",children:(0,a.jsx)("i",{className:"ri-delete-bin-line text-sm"})})]})]}),(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed",children:e.text})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-chat-3-line text-4xl text-gray-400 mb-3"}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Nenhum coment\xe1rio ainda"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Seja o primeiro a comentar sobre este anime!"})]})]})}function h(e){let{animeId:s,episodes:t,totalEpisodes:i}=e,[l,n]=(0,r.useState)(new Set),[o,m]=(0,r.useState)(1),[h,g]=(0,r.useState)(c.x.getCurrentUser());(0,r.useEffect)(()=>{let e=c.x.getCurrentUser();if(g(e),e){let t=localStorage.getItem("watched_".concat(s,"_").concat(e.id));t&&n(new Set(JSON.parse(t)))}},[s]);let u=e=>{if(!h){window.location.href="/login";return}let t=new Set(l);t.has(e)?t.delete(e):(t.add(e),c.x.addToWatchHistory(s,e)),n(t),localStorage.setItem("watched_".concat(s,"_").concat(h.id),JSON.stringify([...t]))},p=e=>{if(!h){window.location.href="/login";return}u(e),alert("Reproduzindo Epis\xf3dio ".concat(e,"\\n\\nEm uma implementa\xe7\xe3o real, aqui abriria o player de v\xeddeo."))},j=l.size,b=i?j/i*100:0;return(0,a.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold text-white",children:["Epis\xf3dios ",i&&"(".concat(i,")")]}),h&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:["Progresso: ",j,"/",i||t.length," epis\xf3dios"]}),(0,a.jsx)("div",{className:"w-32 bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(b,"%")}})})]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("i",{className:"ri-film-line text-4xl text-gray-400 mb-4"}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Epis\xf3dios n\xe3o dispon\xedveis"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Os epis\xf3dios deste anime ainda n\xe3o foram catalogados em nossa base de dados."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e,s)=>{let t=e.numero||s+1,r=l.has(t);return(0,a.jsxs)("div",{className:"group bg-gray-800/50 rounded-lg overflow-hidden hover:bg-gray-800/70 transition-colors ".concat(r?"ring-2 ring-green-500/50":""),children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-gray-700",children:[e.imagem?(0,a.jsx)("img",{src:e.imagem,alt:"Epis\xf3dio ".concat(t),className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:(0,a.jsx)("i",{className:"ri-play-circle-line text-4xl text-gray-500"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)("button",{onClick:()=>p(t),className:"bg-red-600 text-white w-12 h-12 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors cursor-pointer",children:(0,a.jsx)("i",{className:"ri-play-fill text-xl"})})}),(0,a.jsxs)("div",{className:"absolute top-2 left-2 bg-black/60 text-white px-2 py-1 rounded text-xs font-medium",children:["EP ",t]}),r&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-green-600 text-white w-6 h-6 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-check-line text-sm"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-2 line-clamp-2",children:e.nome||"Epis\xf3dio ".concat(t)}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-3",children:[e.duracao&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"ri-time-line mr-1"}),e.duracao]}),e.dataLancamento&&(0,a.jsx)("span",{suppressHydrationWarning:!0,children:(0,d.m)(new Date(e.dataLancamento),{addSuffix:!0,locale:x.F})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>p(t),className:"flex-1 bg-red-600 text-white py-2 px-3 rounded text-sm font-medium hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-play-line mr-1"}),"Assistir"]}),h&&(0,a.jsx)("button",{onClick:()=>u(t),className:"px-3 py-2 rounded text-sm font-medium transition-colors cursor-pointer ".concat(r?"bg-green-600 text-white hover:bg-green-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"),title:r?"Marcar como n\xe3o assistido":"Marcar como assistido",children:(0,a.jsx)("i",{className:"ri-".concat(r?"eye-off":"eye","-line")})})]})]})]},t)})})]})}function g(e){let{animeId:s,episodeNumber:t,episodeTitle:i,onClose:l,onNext:n,onPrevious:o}=e,[d,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(0),[g,u]=(0,r.useState)(0),[p,j]=(0,r.useState)(1),[b,f]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!0),[C,S]=(0,r.useState)(1),[k,E]=(0,r.useState)("1080p"),A=(0,r.useRef)(null);(0,r.useRef)(null);let _=(0,r.useRef)(null);(0,r.useEffect)(()=>{u(1440),c.x.getCurrentUser()&&c.x.addToWatchHistory(s,t);let e=()=>{w(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{d&&w(!1)},3e3)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e),_.current&&clearTimeout(_.current)}},[s,t,d]),(0,r.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{h(e=>e>=g?(x(!1),g):e+1)},1e3)),()=>clearInterval(e)},[d,g]);let F=()=>{x(!d)},D=e=>{let s=Math.floor(e/60),t=Math.floor(e%60);return"".concat(s,":").concat(t.toString().padStart(2,"0"))};return(0,a.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[(0,a.jsxs)("div",{ref:A,className:"flex-1 relative",children:[(0,a.jsxs)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center relative",children:[(0,a.jsx)("div",{className:"text-center cursor-pointer",onClick:F,children:(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"ri-".concat(d?"pause":"play","-circle-line text-8xl text-white mb-4")}),(0,a.jsx)("h3",{className:"text-white text-2xl font-bold mb-2",children:i}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Epis\xf3dio ",t]}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-4",children:"\uD83C\uDFAC Player de demonstra\xe7\xe3o - Em produ\xe7\xe3o seria integrado com servi\xe7os reais"})]})})}),d&&(0,a.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})]}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-4 transition-opacity duration-300 ".concat(y?"opacity-100":"opacity-0"),children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{type:"range",min:"0",max:g,value:m,onChange:e=>{h(Number(e.target.value))},className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, #ef4444 0%, #ef4444 ".concat(m/g*100,"%, #4b5563 ").concat(m/g*100,"%, #4b5563 100%)")}}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,a.jsx)("span",{children:D(m)}),(0,a.jsx)("span",{children:D(g)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:F,className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-".concat(d?"pause":"play","-fill text-2xl")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,a.jsx)("button",{onClick:o,className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-skip-back-fill text-xl"})}),n&&(0,a.jsx)("button",{onClick:n,className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-skip-forward-fill text-xl"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{f(!b)},className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-volume-".concat(b||0===p?"mute":p<.5?"down":"up","-fill text-xl")})}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:b?0:p,onChange:e=>{let s=Number(e.target.value);j(s),f(0===s)},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),(0,a.jsxs)("span",{className:"text-white text-sm",children:[D(m)," / ",D(g)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{className:"text-white hover:text-red-500 text-sm cursor-pointer",children:[C,"x"]}),(0,a.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg py-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[.5,.75,1,1.25,1.5,2].map(e=>(0,a.jsxs)("button",{onClick:()=>{S(e)},className:"block px-3 py-1 text-sm hover:bg-gray-800 cursor-pointer ".concat(C===e?"text-red-500":"text-white"),children:[e,"x"]},e))})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{className:"text-white hover:text-red-500 text-sm cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-hd-fill mr-1"}),k]}),(0,a.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg py-2 opacity-0 group-hover:opacity-100 transition-opacity",children:["720p","1080p","4K"].map(e=>(0,a.jsx)("button",{onClick:()=>{E(e)},className:"block px-3 py-1 text-sm hover:bg-gray-800 whitespace-nowrap cursor-pointer ".concat(k===e?"text-red-500":"text-white"),children:e},e))})]}),(0,a.jsx)("button",{onClick:()=>{if(document.fullscreenElement)document.exitFullscreen(),v(!1);else{var e;null==(e=A.current)||e.requestFullscreen(),v(!0)}},className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-".concat(N?"fullscreen-exit":"fullscreen","-fill text-xl")})}),(0,a.jsx)("button",{onClick:l,className:"text-white hover:text-red-500 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-2xl"})})]})]})]})]}),(0,a.jsx)("div",{className:"bg-black/95 p-4 border-t border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:i}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Epis\xf3dio ",t]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)("i",{className:"ri-eye-line"}),(0,a.jsx)("span",{children:"Assistindo agora"})]})]})})]})}function u(e){let{animeId:s,episodeNumber:t}=e,[i,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(""),[d,x]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[g,u]=(0,r.useState)(""),[p,j]=(0,r.useState)(!0),[b,f]=(0,r.useState)(c.x.getCurrentUser());(0,r.useEffect)(()=>{f(c.x.getCurrentUser()),i&&v()},[i]);let N=e=>{if(!b){window.location.href="/login";return}o(e),l(!0),v(),y("✨ ".concat(b.name," entrou na festa!"))},v=()=>{let e=[{id:"1",name:"Ana Silva",isHost:!1,isOnline:!0},{id:"2",name:"Carlos Santos",isHost:!1,isOnline:!0},{id:"3",name:"Maria Oliveira",isHost:!1,isOnline:!1}];b&&e.unshift({id:b.id,name:b.name,avatar:b.avatar,isHost:!0,isOnline:!0}),x(e)},y=e=>{let s={id:Date.now().toString(),userId:"system",userName:"Sistema",message:e,timestamp:new Date().toISOString(),type:"message"};h(e=>[...e,s])};return i?(0,a.jsxs)("div",{className:"fixed bottom-4 right-4 w-80 bg-gray-900 rounded-lg shadow-2xl border border-gray-700 z-40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:"\uD83C\uDFAC Festa"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["C\xf3digo: ",n]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>j(!p),className:"text-gray-400 hover:text-white cursor-pointer",children:(0,a.jsx)("i",{className:"ri-chat-".concat(p?"off":"on","-line")})}),(0,a.jsx)("button",{onClick:()=>{l(!1),o(""),x([]),h([])},className:"text-gray-400 hover:text-red-400 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line"})})]})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-white text-sm font-medium",children:["Assistindo (",d.length,")"]}),(0,a.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(n),className:"text-purple-400 hover:text-purple-300 text-sm cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-share-line mr-1"}),"Compartilhar"]})]}),(0,a.jsxs)("div",{className:"flex -space-x-2",children:[d.slice(0,6).map(e=>(0,a.jsxs)("div",{className:"relative",title:e.name,children:[e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full border-2 border-gray-900 object-cover"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full border-2 border-gray-900 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs font-bold",children:e.name.charAt(0).toUpperCase()})}),e.isHost&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full border border-gray-900"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-gray-900 ".concat(e.isOnline?"bg-green-500":"bg-gray-500")})]},e.id)),d.length>6&&(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded-full border-2 border-gray-900 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-xs",children:["+",d.length-6]})})]})]}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-48 overflow-y-auto p-4 space-y-2",children:0===m.length?(0,a.jsxs)("div",{className:"text-center text-gray-400 text-sm py-4",children:[(0,a.jsx)("i",{className:"ri-chat-3-line text-2xl mb-2"}),(0,a.jsx)("p",{children:"Nenhuma mensagem ainda"})]}):m.map(e=>(0,a.jsx)("div",{className:"flex items-start gap-2 ".concat("reaction"===e.type?"justify-center":""),children:"reaction"===e.type?(0,a.jsxs)("div",{className:"bg-gray-800 px-3 py-1 rounded-full",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.message}),(0,a.jsx)("span",{className:"text-gray-400 text-xs ml-2",children:e.userName})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-white text-xs",children:e.userName.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:e.userName}),(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:e.message})]})]})},e.id))}),(0,a.jsx)("div",{className:"flex justify-center gap-2 p-2 border-t border-gray-700",children:["\uD83D\uDE02","❤️","\uD83D\uDE2E","\uD83D\uDC4F","\uD83D\uDD25","\uD83D\uDE0D"].map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{if(!b)return;let s={id:Date.now().toString(),userId:b.id,userName:b.name,message:e,timestamp:new Date().toISOString(),type:"reaction"};h(e=>[...e,s])})(e),className:"text-lg hover:scale-110 transition-transform cursor-pointer",children:e},e))}),(0,a.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),!g.trim()||!b)return;let s={id:Date.now().toString(),userId:b.id,userName:b.name,message:g.trim(),timestamp:new Date().toISOString(),type:"message"};h(e=>[...e,s]),u("")},className:"p-4 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:g,onChange:e=>u(e.target.value),placeholder:"Digite uma mensagem...",className:"flex-1 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:200}),(0,a.jsx)("button",{type:"submit",disabled:!g.trim(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:(0,a.jsx)("i",{className:"ri-send-plane-line"})})]})})]})]}):(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"ri-group-line text-4xl text-purple-400 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"\uD83C\uDFAC Festa de Assistir"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Assista junto com seus amigos em tempo real! Sincronize a reprodu\xe7\xe3o e converse no chat."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[(0,a.jsxs)("button",{onClick:()=>{if(!b){window.location.href="/login";return}let e=Math.random().toString(36).substr(2,8).toUpperCase();o(e),l(!0),x([{id:b.id,name:b.name,avatar:b.avatar,isHost:!0,isOnline:!0}]),y("\uD83C\uDF89 Festa criada! Compartilhe o c\xf3digo: ".concat(e))},className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-add-line mr-2"}),"Criar Festa"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"C\xf3digo da festa",className:"bg-gray-800 text-white px-4 py-3 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:8,onChange:e=>8===e.target.value.length&&N(e.target.value)}),(0,a.jsx)("button",{onClick:()=>{let e=document.querySelector('input[placeholder="C\xf3digo da festa"]');(null==e?void 0:e.value)&&N(e.value)},className:"bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors whitespace-nowrap cursor-pointer",children:"Entrar"})]})]})]})})}var p=t(1267);function j(e){let{userId:s}=e,[t,i]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),[x,m]=(0,r.useState)(c.x.getCurrentUser());(0,r.useEffect)(()=>{x?h():d(!1)},[x]);let h=async()=>{if(x)try{let e=await g(),s=[];for(let t of e.slice(0,3)){let e=await (0,n.xH)(t);s.push(...e.slice(0,4))}let t=s.filter((e,s,t)=>s===t.findIndex(s=>s.mal_id===e.mal_id)).filter(e=>!x.watchlist.includes(e.mal_id)&&!x.favorites.includes(e.mal_id)).slice(0,12);i(t)}catch(e){console.error("Erro ao gerar recomenda\xe7\xf5es:",e)}finally{d(!1)}},g=async()=>["action","adventure","comedy","drama","fantasy","romance","thriller","sci-fi"].sort(()=>Math.random()-.5).slice(0,5);return x?o?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white",children:"Gerando recomenda\xe7\xf5es personalizadas..."})]}):(0,a.jsxs)("section",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFAF Recomendado para voc\xea"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Baseado no seu hist\xf3rico de visualiza\xe7\xe3o e prefer\xeancias"})]}),t.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:t.map(e=>(0,a.jsx)(p.A,{anime:e},e.mal_id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-search-eye-line text-4xl text-gray-400 mb-4"}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Ainda n\xe3o h\xe1 recomenda\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Adicione alguns animes aos favoritos para receber recomenda\xe7\xf5es personalizadas!"}),(0,a.jsx)(l(),{href:"/trending",className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors inline-block cursor-pointer",children:"Explorar Animes"})]}),(0,a.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-white font-semibold mb-2",children:"Como funciona?"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-300",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("i",{className:"ri-heart-line text-red-500 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"An\xe1lise de Favoritos:"})," Analisamos seus animes favoritos para entender seu gosto"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("i",{className:"ri-eye-line text-blue-500 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Hist\xf3rico de Visualiza\xe7\xe3o:"})," Consideramos o que voc\xea j\xe1 assistiu"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("i",{className:"ri-magic-line text-purple-500 mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Algoritmo Inteligente:"})," Sugerimos animes similares ao seu perfil"]})]})]})]})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-2xl p-8 text-center",children:[(0,a.jsx)("i",{className:"ri-lightbulb-line text-4xl text-purple-400 mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Recomenda\xe7\xf5es Personalizadas"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Entre na sua conta para receber recomenda\xe7\xf5es baseadas no seu gosto pessoal!"}),(0,a.jsx)(l(),{href:"/login",className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors inline-block cursor-pointer",children:"Fazer Login"})]})}function b(e){var s,t,i;let{animeId:d}=e,[x,p]=(0,r.useState)(null),[b,f]=(0,r.useState)([]),[N,v]=(0,r.useState)([]),[y,w]=(0,r.useState)(null),[C,S]=(0,r.useState)(!0),[k,E]=(0,r.useState)(!1),[A,_]=(0,r.useState)(!1),[F,D]=(0,r.useState)(null),[I,z]=(0,r.useState)(!1),[U,L]=(0,r.useState)(!1),[T,O]=(0,r.useState)(1),[H,P]=(0,r.useState)("episodes");(0,r.useEffect)(()=>{R(),M()},[d]);let R=async()=>{try{S(!0);let e=await (0,n.jy)(d);if(!e)return void S(!1);p(e);let s=q(e),[t,a]=await Promise.all([(0,n.os)(s),(0,n.Ho)(s)]);t&&(e.synopsis=t,p({...e})),a&&w(a);let[r,i]=await Promise.all([n._t.getAnimeCharacters(d),n._t.getAnimeRecommendations(d)]);f(r.slice(0,12)),v(i.slice(0,12))}catch(e){console.error("Erro ao carregar dados do anime:",e)}finally{S(!1)}},M=()=>{let e=c.x.getCurrentUser();e&&(E(e.watchlist.includes(d)),_(e.favorites.includes(d)),D(c.x.getUserRating(d)))},q=e=>"string"==typeof e.title?e.title:e.title_english||e.title_japanese||"T\xedtulo n\xe3o dispon\xedvel",W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!c.x.getCurrentUser()){window.location.href="/login";return}O(e),L(!0),c.x.addToWatchHistory(d,e)};if(C)return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("div",{className:"pt-16 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg",children:"Carregando informa\xe7\xf5es..."})]})})]});if(!x)return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("div",{className:"pt-16 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line text-6xl text-red-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl text-white mb-4",children:"Anime n\xe3o encontrado"}),(0,a.jsx)(l(),{href:"/",className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:"Voltar ao In\xedcio"})]})})]});let B=q(x),J=(()=>{if(!y||!y.temporadas)return Array.from({length:(null==x?void 0:x.episodes)||12},(e,s)=>({numero:s+1,nome:"Epis\xf3dio ".concat(s+1),duracao:"24 min"}));let e=[];for(let s of y.temporadas)e.push(...s.episodios);return e})();return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(o.A,{}),(0,a.jsxs)("section",{className:"relative h-screen flex items-center bg-cover bg-center",style:{backgroundImage:x.bannerImage?"linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.9) 100%), url(".concat(x.bannerImage,")"):"linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.9) 100%), url('https://readdy.ai/api/search-image?query=anime%20$%7BanimeTitle%7D%20epic%20scene%20with%20dramatic%20lighting%20and%20vibrant%20colors%2C%20high%20quality%20anime%20artwork%2C%20cinematic%20composition%2C%20beautiful%20detailed%20background&width=1920&height=1080&seq=detail".concat(d,"&orientation=landscape')")},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 grid grid-cols-1 lg:grid-cols-3 gap-8 items-center h-full pt-16",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight",children:B}),x.title_english&&x.title_english!==B&&(0,a.jsx)("h2",{className:"text-2xl text-gray-300 mb-4",children:x.title_english}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[x.score&&(0,a.jsxs)("div",{className:"flex items-center text-yellow-400",children:[(0,a.jsx)("i",{className:"ri-star-fill mr-2"}),(0,a.jsx)("span",{className:"font-bold text-xl",children:x.score}),x.scored_by&&(0,a.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",x.scored_by.toLocaleString()," votos)"]})]}),x.year&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsx)("span",{className:"text-white",children:x.year})]}),x.episodes&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsxs)("span",{className:"text-white",children:[x.episodes," epis\xf3dios"]})]}),x.rating&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsx)("span",{className:"text-white",children:x.rating})]})]}),x.genres&&x.genres.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:x.genres.map(e=>(0,a.jsx)("span",{className:"bg-red-600/20 text-red-400 px-3 py-1 rounded-full text-sm font-medium",children:e.name},e.mal_id||e.name))}),(0,a.jsx)("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed line-clamp-4",children:x.synopsis}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsxs)("button",{onClick:()=>W(),className:"bg-red-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-red-700 transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-play-fill text-xl"}),"Assistir Agora"]}),(0,a.jsxs)("button",{onClick:()=>{if(!c.x.getCurrentUser()){window.location.href="/login";return}k?(c.x.removeFromWatchlist(d),E(!1)):(c.x.addToWatchlist(d),E(!0))},className:"px-8 py-3 rounded-lg text-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer ".concat(k?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-800/80 text-white hover:bg-gray-700"),children:[(0,a.jsx)("i",{className:"ri-bookmark-".concat(k?"fill":"line"," text-xl")}),k?"Na Minha Lista":"Adicionar \xe0 Lista"]}),(0,a.jsxs)("button",{onClick:()=>{if(!c.x.getCurrentUser()){window.location.href="/login";return}A?(c.x.removeFromFavorites(d),_(!1)):(c.x.addToFavorites(d),_(!0))},className:"px-8 py-3 rounded-lg text-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer ".concat(A?"bg-pink-600 text-white hover:bg-pink-700":"bg-gray-800/80 text-white hover:bg-gray-700"),children:[(0,a.jsx)("i",{className:"ri-heart-".concat(A?"fill":"line"," text-xl")}),A?"Favoritado":"Favoritar"]}),x.trailer&&x.trailer.youtube_id&&(0,a.jsxs)("button",{onClick:()=>z(!0),className:"bg-gray-800/80 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-gray-700 transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-video-line text-xl"}),"Trailer"]})]})]}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:x.images.jpg.large_image_url||x.images.jpg.image_url,alt:B,className:"w-full max-w-sm mx-auto rounded-lg shadow-2xl"}),x.rank&&(0,a.jsx)("div",{className:"absolute -bottom-4 -right-4 bg-black/80 text-white px-4 py-2 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-yellow-400",children:["#",x.rank]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Ranking"})]})})]})})]})]}),(0,a.jsx)("section",{className:"py-8 bg-gray-900/50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-xl text-white mb-4",children:"Avalie este anime"}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{if(!c.x.getCurrentUser()){window.location.href="/login";return}c.x.rateAnime(d,e),D(e)})(e),className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-colors cursor-pointer ".concat(F&&F>=e?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e},e))}),F&&(0,a.jsxs)("p",{className:"text-yellow-400 mt-2",children:["Sua avalia\xe7\xe3o: ",F,"/10"]})]})})}),(0,a.jsx)("main",{className:"py-12 space-y-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:[{id:"episodes",label:"\uD83D\uDCFA Epis\xf3dios",icon:"ri-film-line"},{id:"info",label:"ℹ️ Informa\xe7\xf5es",icon:"ri-information-line"},{id:"characters",label:"\uD83D\uDC65 Personagens",icon:"ri-group-line"},{id:"comments",label:"\uD83D\uDCAC Coment\xe1rios",icon:"ri-chat-3-line"},{id:"recommendations",label:"\uD83C\uDFAF Recomenda\xe7\xf5es",icon:"ri-magic-line"}].map(e=>(0,a.jsxs)("button",{onClick:()=>P(e.id),className:"px-6 py-3 rounded-full font-semibold transition-colors whitespace-nowrap cursor-pointer ".concat(H===e.id?"bg-red-600 text-white":"bg-gray-800/50 text-gray-300 hover:bg-gray-700"),children:[(0,a.jsx)("i",{className:"".concat(e.icon," mr-2")}),e.label]},e.id))}),"episodes"===H&&(0,a.jsx)(h,{animeId:d,episodes:J,totalEpisodes:x.episodes}),"info"===H&&(0,a.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Informa\xe7\xf5es"}),(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"text-white",children:x.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Fonte:"}),(0,a.jsx)("span",{className:"text-white",children:x.source})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Dura\xe7\xe3o:"}),(0,a.jsx)("span",{className:"text-white",children:x.duration})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Exibi\xe7\xe3o:"}),(0,a.jsx)("span",{className:"text-white",children:null==(s=x.aired)?void 0:s.string})]}),x.studios&&x.studios.length>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Est\xfadios:"}),(0,a.jsx)("span",{className:"text-white",children:x.studios.map(e=>e.name).join(", ")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Popularidade:"}),(0,a.jsxs)("span",{className:"text-white",children:["#",x.popularity]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Membros:"}),(0,a.jsx)("span",{className:"text-white",children:null==(t=x.members)?void 0:t.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Favoritos:"}),(0,a.jsx)("span",{className:"text-white",children:null==(i=x.favorites)?void 0:i.toLocaleString()})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Sinopse"}),(0,a.jsx)("p",{className:"text-gray-300 leading-relaxed",children:x.synopsis})]})]}),"characters"===H&&b.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Personagens Principais"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.map(e=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("img",{src:e.character.images.jpg.image_url,alt:e.character.name,className:"w-full aspect-[3/4] object-cover object-top rounded-lg mb-2"}),(0,a.jsx)("h4",{className:"text-white text-sm font-semibold line-clamp-2",children:e.character.name}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:e.role})]},e.character.mal_id))})]}),"comments"===H&&(0,a.jsx)(m,{animeId:d}),"recommendations"===H&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(j,{}),N.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Animes Similares"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:N.map(e=>(0,a.jsx)(l(),{href:"/anime/".concat(e.entry.mal_id),className:"cursor-pointer",children:(0,a.jsxs)("div",{className:"group",children:[(0,a.jsx)("div",{className:"aspect-[3/4] relative overflow-hidden rounded-lg",children:(0,a.jsx)("img",{src:e.entry.images.jpg.image_url,alt:e.entry.title,className:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsx)("h4",{className:"text-white text-sm font-semibold mt-2 line-clamp-2 group-hover:text-red-500 transition-colors",children:e.entry.title}),(0,a.jsxs)("p",{className:"text-gray-400 text-xs",children:[e.votes," recomenda\xe7\xf5es"]})]})},e.entry.mal_id))})]})]})]})}),U&&(0,a.jsx)(g,{animeId:d,episodeNumber:T,episodeTitle:"".concat(B," - Epis\xf3dio ").concat(T),onClose:()=>L(!1),onNext:T<(x.episodes||12)?()=>O(e=>e+1):void 0,onPrevious:T>1?()=>O(e=>e-1):void 0}),(0,a.jsx)(u,{animeId:d,episodeNumber:T}),I&&x.trailer&&x.trailer.youtube_id&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden max-w-4xl w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("h3",{className:"text-white text-xl font-bold",children:["Trailer - ",B]}),(0,a.jsx)("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-white cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,a.jsx)("div",{className:"aspect-video",children:(0,a.jsx)("iframe",{src:x.trailer.embed_url,className:"w-full h-full",allowFullScreen:!0,title:"Trailer ".concat(B)})})]})})]})}},7066:(e,s,t)=>{Promise.resolve().then(t.bind(t,2576))}},e=>{e.O(0,[244,585,976,441,964,358],()=>e(e.s=7066)),_N_E=e.O()}]);