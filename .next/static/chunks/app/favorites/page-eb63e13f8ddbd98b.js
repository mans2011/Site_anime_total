(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{7311:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var a=r(5155),t=r(2115),i=r(1741),l=r(8350),n=r(7288),o=r(1267);function c(){let[e,s]=(0,t.useState)([]),[r,c]=(0,t.useState)(!0),[d,m]=(0,t.useState)(l.x.getCurrentUser()),[x,h]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!d){window.location.href="/login";return}u()},[d]);let u=async()=>{if(!d||0===d.favorites.length)return void c(!1);try{c(!0),h("");let e=[];for(let s=0;s<d.favorites.length;s+=5){let r=d.favorites.slice(s,s+5).map(async e=>{try{return await i._t.getAnimeById(e)}catch(s){return console.error("Erro ao carregar anime ".concat(e,":"),s),null}}),a=await Promise.all(r);e.push(...a.filter(e=>null!==e)),s+5<d.favorites.length&&await new Promise(e=>setTimeout(e,500))}s(e)}catch(e){console.error("Erro ao carregar favoritos:",e),h("Erro ao carregar seus favoritos. Tente novamente.")}finally{c(!1)}},g=()=>{let e=l.x.getCurrentUser();m(e),e&&u()};return d?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("main",{className:"pt-24 pb-20",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Meus Favoritos"}),(0,a.jsx)("p",{className:"text-gray-400",children:d.favorites.length>0?"".concat(d.favorites.length," animes nos seus favoritos"):"Voc\xea ainda n\xe3o tem favoritos"})]}),x&&(0,a.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg mb-6",children:x}),r?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-white text-lg",children:"Carregando seus favoritos..."})]})}):e.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:e.map(e=>(0,a.jsx)(o.A,{anime:e,onWatchlistChange:g},e.mal_id))}):(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("i",{className:"ri-heart-line text-6xl text-gray-400 mb-6"}),(0,a.jsx)("h2",{className:"text-2xl text-white mb-4",children:"Nenhum favorito ainda"}),(0,a.jsx)("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Marque animes como favoritos para salv\xe1-los aqui. Clique no \xedcone de cora\xe7\xe3o nos animes que voc\xea mais gosta."}),(0,a.jsxs)("a",{href:"/",className:"bg-red-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-red-700 transition-colors inline-flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-heart-line"}),"Descobrir Animes"]})]})]})})]}):null}},8059:(e,s,r)=>{Promise.resolve().then(r.bind(r,7311))}},e=>{e.O(0,[244,976,441,964,358],()=>e(e.s=8059)),_N_E=e.O()}]);