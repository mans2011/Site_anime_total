(()=>{var a={};a.id=633,a.ids=[633],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3054:(a,b,c)=>{Promise.resolve().then(c.bind(c,8307))},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3433:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(5239),e=c(8088),f=c(7220),g=c(1289),h=c(6191),i=c(4823),j=c(1998),k=c(2603),l=c(4649),m=c(2781),n=c(2602),o=c(1268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(6713),u=c(3365),v=c(1454),w=c(7778),x=c(6143),y=c(9105),z=c(8171),A=c(6439),B=c(6133),C=c.n(B),D=c(893),E=c(2836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["anime",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,4630)),"D:\\projects\\codes\\curso\\projeto-anime-pro2\\app\\anime\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,8014)),"D:\\projects\\codes\\curso\\projeto-anime-pro2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,2366)),"D:\\projects\\codes\\curso\\projeto-anime-pro2\\app\\not-found.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6133,23)),"next/dist/client/components/builtin/global-error.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,9868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,9615,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,H=["D:\\projects\\codes\\curso\\projeto-anime-pro2\\app\\anime\\[id]\\page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/anime/[id]/page",pathname:"/anime/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/anime/[id]/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},3873:a=>{"use strict";a.exports=require("path")},4630:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,generateStaticParams:()=>g,revalidate:()=>f});var d=c(7413),e=c(8124);let f=60;async function g(){return[{id:"1"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"},{id:"11"},{id:"16"},{id:"20"},{id:"21"},{id:"22"},{id:"23"},{id:"24"},{id:"25"},{id:"30"},{id:"31"},{id:"32"},{id:"33"},{id:"223"},{id:"235"},{id:"269"},{id:"355"},{id:"430"},{id:"431"},{id:"457"},{id:"486"},{id:"813"},{id:"820"},{id:"1535"},{id:"1575"},{id:"3182"},{id:"5114"},{id:"6702"},{id:"9253"},{id:"9969"},{id:"11061"},{id:"11757"},{id:"12355"},{id:"13601"},{id:"14719"},{id:"15335"},{id:"16498"},{id:"16742"},{id:"17741"},{id:"18679"},{id:"19815"},{id:"20954"},{id:"22319"},{id:"22729"},{id:"23273"},{id:"25777"},{id:"28121"},{id:"30831"},{id:"31043"},{id:"32281"},{id:"33486"},{id:"34096"},{id:"35848"},{id:"36028"},{id:"37779"},{id:"38000"},{id:"39486"},{id:"40028"},{id:"40748"},{id:"41457"},{id:"42938"},{id:"44511"},{id:"45576"},{id:"47778"},{id:"48583"},{id:"49387"},{id:"50265"},{id:"199"},{id:"154"},{id:"164"},{id:"245"},{id:"263"},{id:"339"},{id:"388"},{id:"400"},{id:"413"},{id:"442"},{id:"527"},{id:"530"},{id:"572"},{id:"918"},{id:"1048"},{id:"1735"},{id:"2025"},{id:"2104"},{id:"2167"},{id:"2904"},{id:"3588"},{id:"4654"},{id:"5081"},{id:"5680"},{id:"6347"},{id:"7054"},{id:"7311"},{id:"8074"},{id:"8525"},{id:"9756"},{id:"10087"},{id:"10721"},{id:"11013"},{id:"11771"},{id:"12431"},{id:"13125"},{id:"14741"},{id:"15809"},{id:"17074"},{id:"18153"},{id:"19647"},{id:"21699"},{id:"23755"},{id:"25835"},{id:"28223"},{id:"30549"},{id:"32935"},{id:"35120"},{id:"37510"},{id:"39617"},{id:"41467"},{id:"43608"},{id:"45649"},{id:"48569"},{id:"51009"}]}async function h({params:a}){return(0,d.jsx)(e.default,{animeId:parseInt(a.id)})}},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},8124:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\projects\\\\codes\\\\curso\\\\projeto-anime-pro2\\\\app\\\\anime\\\\[id]\\\\AnimeDetail.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\projects\\codes\\curso\\projeto-anime-pro2\\app\\anime\\[id]\\AnimeDetail.tsx","default")},8307:(a,b,c)=>{"use strict";c.d(b,{default:()=>G});var d=c(687),e=c(3210),f=c(5814),g=c.n(f);c(4233);var h=c(4708),i=c(124);function j(a){let b=Object.prototype.toString.call(a);return a instanceof Date||"object"==typeof a&&"[object Date]"===b?new a.constructor(+a):new Date("number"==typeof a||"[object Number]"===b||"string"==typeof a||"[object String]"===b?a:NaN)}function k(a,b){let c=j(a),d=j(b),e=c.getTime()-d.getTime();return e<0?-1:e>0?1:e}let l={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function m(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let n={date:m({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:m({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:m({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function p(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function q(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}function r(a){return(b,c={})=>{let d=b.match(a.matchPattern);if(!d)return null;let e=d[0],f=b.match(a.parsePattern);if(!f)return null;let g=a.valueCallback?a.valueCallback(f[0]):f[0];return{value:g=c.valueCallback?c.valueCallback(g):g,rest:b.slice(e.length)}}}let s={code:"en-US",formatDistance:(a,b,c)=>{let d,e=l[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:n,formatRelative:(a,b,c,d)=>o[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:p({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:p({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:p({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:p({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:p({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:r({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:q({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:q({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:q({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:q({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},t={};function u(a){let b=j(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function v(a,b){var c;return function(a,b,c){let d,e,f,g=c?.locale??t.locale??s,h=k(a,b);if(isNaN(h))throw RangeError("Invalid time value");let i=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:h});h>0?(d=j(b),e=j(a)):(d=j(a),e=j(b));let l=function(a,b,c){var d;return(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})((j(a)-j(b))/1e3)}(e,d),m=Math.round((l-(u(e)-u(d))/1e3)/60);if(m<2)if(c?.includeSeconds)if(l<5)return g.formatDistance("lessThanXSeconds",5,i);else if(l<10)return g.formatDistance("lessThanXSeconds",10,i);else if(l<20)return g.formatDistance("lessThanXSeconds",20,i);else if(l<40)return g.formatDistance("halfAMinute",0,i);else if(l<60)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",1,i);else if(0===m)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",m,i);if(m<45)return g.formatDistance("xMinutes",m,i);if(m<90)return g.formatDistance("aboutXHours",1,i);if(m<1440){let a=Math.round(m/60);return g.formatDistance("aboutXHours",a,i)}if(m<2520)return g.formatDistance("xDays",1,i);else if(m<43200){let a=Math.round(m/1440);return g.formatDistance("xDays",a,i)}else if(m<86400)return f=Math.round(m/43200),g.formatDistance("aboutXMonths",f,i);if((f=function(a,b){let c,d=j(a),e=j(b),f=k(d,e),g=Math.abs(function(a,b){let c=j(a),d=j(b);return 12*(c.getFullYear()-d.getFullYear())+(c.getMonth()-d.getMonth())}(d,e));if(g<1)c=0;else{1===d.getMonth()&&d.getDate()>27&&d.setDate(30),d.setMonth(d.getMonth()-f*g);let b=k(d,e)===-f;(function(a){let b=j(a);return+function(a){let b=j(a);return b.setHours(23,59,59,999),b}(b)==+function(a){let b=j(a),c=b.getMonth();return b.setFullYear(b.getFullYear(),c+1,0),b.setHours(23,59,59,999),b}(b)})(j(a))&&1===g&&1===k(a,e)&&(b=!1),c=f*(g-Number(b))}return 0===c?0:c}(e,d))<12){let a=Math.round(m/43200);return g.formatDistance("xMonths",a,i)}{let a=f%12,b=Math.trunc(f/12);return a<3?g.formatDistance("aboutXYears",b,i):a<9?g.formatDistance("overXYears",b,i):g.formatDistance("almostXYears",b+1,i)}}(a,(c=Date.now(),a instanceof Date?new a.constructor(c):new Date(c)),b)}let w={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 m\xeas",other:"cerca de {{count}} meses"},xMonths:{one:"1 m\xeas",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},x={date:m({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:m({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:m({formats:{full:"{{date}} '\xe0s' {{time}}",long:"{{date}} '\xe0s' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:a=>{let b=a.getDay();return"'"+(0===b||6===b?"\xfaltimo":"\xfaltima")+"' eeee '\xe0s' p"},yesterday:"'ontem \xe0s' p",today:"'hoje \xe0s' p",tomorrow:"'amanh\xe3 \xe0s' p",nextWeek:"eeee '\xe0s' p",other:"P"},z={code:"pt-BR",formatDistance:(a,b,c)=>{let d,e=w[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",String(b)),c?.addSuffix)if(c.comparison&&c.comparison>0)return"em "+d;else return"h\xe1 "+d;return d},formatLong:x,formatRelative:(a,b,c,d)=>{let e=y[a];return"function"==typeof e?e(b):e},localize:{ordinalNumber:(a,b)=>{let c=Number(a);return b?.unit==="week"?c+"\xaa":c+"\xba"},era:p({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:p({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:p({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:p({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","ter\xe7a","quarta","quinta","sexta","s\xe1bado"],wide:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:p({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh\xe3",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh\xe3",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:r({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:q({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:q({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:q({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:q({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function A({animeId:a}){let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)(""),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(h.x.getCurrentUser()),o=async b=>{if(b.preventDefault(),!m){window.location.href="/login";return}if(f.trim()){l(!0);try{let b=h.z.addComment(a,f.trim(),i||void 0);b&&(c(a=>[b,...a]),g(""),j(null))}catch(a){console.error("Erro ao adicionar coment\xe1rio:",a)}finally{l(!1)}}},p=(a,b=!1,c)=>(0,d.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,d.jsx)("button",{type:b?"button":void 0,onClick:b&&c?()=>c(e):void 0,className:`text-lg ${e<=a?"text-yellow-400":"text-gray-500"} ${b?"hover:text-yellow-300 cursor-pointer":""}`,disabled:!b,children:(0,d.jsx)("i",{className:"ri-star-fill"})},e))});return(0,d.jsxs)("section",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,d.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6",children:["Coment\xe1rios (",b.length,")"]}),m?(0,d.jsx)("form",{onSubmit:o,className:"mb-8",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[m.avatar?(0,d.jsx)("img",{src:m.avatar,alt:m.name,className:"w-10 h-10 rounded-full object-cover"}):(0,d.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm font-bold",children:m.name.charAt(0).toUpperCase()})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("textarea",{value:f,onChange:a=>g(a.target.value),placeholder:"Escreva seu coment\xe1rio sobre este anime...",className:"w-full p-3 bg-gray-800 text-white rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-red-500 border border-gray-700",rows:3,maxLength:500,required:!0}),(0,d.jsxs)("div",{className:"text-right text-gray-400 text-xs mt-1",children:[f.length,"/500"]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-white text-sm",children:"Avalia\xe7\xe3o:"}),p(i||0,!0,j),i&&(0,d.jsx)("button",{type:"button",onClick:()=>j(null),className:"text-gray-400 hover:text-white text-xs cursor-pointer",children:"Limpar"})]}),(0,d.jsx)("button",{type:"submit",disabled:k||!f.trim(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",children:k?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):"Comentar"})]})]})]})}):(0,d.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 text-center mb-8",children:[(0,d.jsx)("i",{className:"ri-user-line text-4xl text-gray-400 mb-3"}),(0,d.jsx)("h4",{className:"text-white text-lg font-semibold mb-2",children:"Fa\xe7a login para comentar"}),(0,d.jsx)("p",{className:"text-gray-400 mb-4",children:"Entre na sua conta para compartilhar sua opini\xe3o sobre este anime"}),(0,d.jsx)("a",{href:"/login",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors inline-block cursor-pointer",children:"Fazer Login"})]}),b.length>0?(0,d.jsx)("div",{className:"space-y-6",children:b.map(a=>(0,d.jsxs)("div",{className:"flex gap-4",children:[a.userAvatar?(0,d.jsx)("img",{src:a.userAvatar,alt:a.userName,className:"w-10 h-10 rounded-full object-cover"}):(0,d.jsx)("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm font-bold",children:a.userName.charAt(0).toUpperCase()})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("h4",{className:"text-white font-semibold",children:a.userName}),a.rating&&p(a.rating)]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-gray-400 text-sm",suppressHydrationWarning:!0,children:v(new Date(a.createdAt),{addSuffix:!0,locale:z})}),m&&m.id===a.userId&&(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void(h.z.deleteComment(b),c(a=>a.filter(a=>a.id!==b)))},className:"text-gray-400 hover:text-red-400 cursor-pointer",title:"Excluir coment\xe1rio",children:(0,d.jsx)("i",{className:"ri-delete-bin-line text-sm"})})]})]}),(0,d.jsx)("p",{className:"text-gray-300 leading-relaxed",children:a.text})]})]},a.id))}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("i",{className:"ri-chat-3-line text-4xl text-gray-400 mb-3"}),(0,d.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Nenhum coment\xe1rio ainda"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Seja o primeiro a comentar sobre este anime!"})]})]})}function B({animeId:a,episodes:b,totalEpisodes:c}){let[f,g]=(0,e.useState)(new Set),[i,j]=(0,e.useState)(1),[k,l]=(0,e.useState)(h.x.getCurrentUser()),m=b=>{if(!k){window.location.href="/login";return}let c=new Set(f);c.has(b)?c.delete(b):(c.add(b),h.x.addToWatchHistory(a,b)),g(c),localStorage.setItem(`watched_${a}_${k.id}`,JSON.stringify([...c]))},n=a=>{if(!k){window.location.href="/login";return}m(a),alert(`Reproduzindo Epis\xf3dio ${a}\\n\\nEm uma implementa\xe7\xe3o real, aqui abriria o player de v\xeddeo.`)},o=f.size,p=c?o/c*100:0;return(0,d.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h3",{className:"text-2xl font-bold text-white",children:["Epis\xf3dios ",c&&`(${c})`]}),k&&(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-gray-300",children:["Progresso: ",o,"/",c||b.length," epis\xf3dios"]}),(0,d.jsx)("div",{className:"w-32 bg-gray-700 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]})]}),0===b.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("i",{className:"ri-film-line text-4xl text-gray-400 mb-4"}),(0,d.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Epis\xf3dios n\xe3o dispon\xedveis"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Os epis\xf3dios deste anime ainda n\xe3o foram catalogados em nossa base de dados."})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((a,b)=>{let c=a.numero||b+1,e=f.has(c);return(0,d.jsxs)("div",{className:`group bg-gray-800/50 rounded-lg overflow-hidden hover:bg-gray-800/70 transition-colors ${e?"ring-2 ring-green-500/50":""}`,children:[(0,d.jsxs)("div",{className:"relative aspect-video bg-gray-700",children:[a.imagem?(0,d.jsx)("img",{src:a.imagem,alt:`Epis\xf3dio ${c}`,className:"w-full h-full object-cover"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:(0,d.jsx)("i",{className:"ri-play-circle-line text-4xl text-gray-500"})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,d.jsx)("button",{onClick:()=>n(c),className:"bg-red-600 text-white w-12 h-12 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors cursor-pointer",children:(0,d.jsx)("i",{className:"ri-play-fill text-xl"})})}),(0,d.jsxs)("div",{className:"absolute top-2 left-2 bg-black/60 text-white px-2 py-1 rounded text-xs font-medium",children:["EP ",c]}),e&&(0,d.jsx)("div",{className:"absolute top-2 right-2 bg-green-600 text-white w-6 h-6 rounded-full flex items-center justify-center",children:(0,d.jsx)("i",{className:"ri-check-line text-sm"})})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h4",{className:"text-white font-semibold mb-2 line-clamp-2",children:a.nome||`Epis\xf3dio ${c}`}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-3",children:[a.duracao&&(0,d.jsxs)("span",{className:"flex items-center",children:[(0,d.jsx)("i",{className:"ri-time-line mr-1"}),a.duracao]}),a.dataLancamento&&(0,d.jsx)("span",{suppressHydrationWarning:!0,children:v(new Date(a.dataLancamento),{addSuffix:!0,locale:z})})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("button",{onClick:()=>n(c),className:"flex-1 bg-red-600 text-white py-2 px-3 rounded text-sm font-medium hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-play-line mr-1"}),"Assistir"]}),k&&(0,d.jsx)("button",{onClick:()=>m(c),className:`px-3 py-2 rounded text-sm font-medium transition-colors cursor-pointer ${e?"bg-green-600 text-white hover:bg-green-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:e?"Marcar como n\xe3o assistido":"Marcar como assistido",children:(0,d.jsx)("i",{className:`ri-${e?"eye-off":"eye"}-line`})})]})]})]},c)})})]})}function C({animeId:a,episodeNumber:b,episodeTitle:c,onClose:f,onNext:g,onPrevious:h}){let[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(0),[m,n]=(0,e.useState)(0),[o,p]=(0,e.useState)(1),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!0),[w,x]=(0,e.useState)(1),[y,z]=(0,e.useState)("1080p"),A=(0,e.useRef)(null);(0,e.useRef)(null),(0,e.useRef)(null);let B=()=>{j(!i)},C=a=>{let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`};return(0,d.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[(0,d.jsxs)("div",{ref:A,className:"flex-1 relative",children:[(0,d.jsxs)("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center relative",children:[(0,d.jsx)("div",{className:"text-center cursor-pointer",onClick:B,children:(0,d.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("i",{className:`ri-${i?"pause":"play"}-circle-line text-8xl text-white mb-4`}),(0,d.jsx)("h3",{className:"text-white text-2xl font-bold mb-2",children:c}),(0,d.jsxs)("p",{className:"text-gray-400",children:["Epis\xf3dio ",b]}),(0,d.jsx)("p",{className:"text-gray-500 text-sm mt-4",children:"\uD83C\uDFAC Player de demonstra\xe7\xe3o - Em produ\xe7\xe3o seria integrado com servi\xe7os reais"})]})})}),i&&(0,d.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})]}),(0,d.jsxs)("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-4 transition-opacity duration-300 ${u?"opacity-100":"opacity-0"}`,children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("input",{type:"range",min:"0",max:m,value:k,onChange:a=>{l(Number(a.target.value))},className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #ef4444 0%, #ef4444 ${k/m*100}%, #4b5563 ${k/m*100}%, #4b5563 100%)`}}),(0,d.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,d.jsx)("span",{children:C(k)}),(0,d.jsx)("span",{children:C(m)})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:B,className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:`ri-${i?"pause":"play"}-fill text-2xl`})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,d.jsx)("button",{onClick:h,className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-skip-back-fill text-xl"})}),g&&(0,d.jsx)("button",{onClick:g,className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-skip-forward-fill text-xl"})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>{r(!q)},className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:`ri-volume-${q||0===o?"mute":o<.5?"down":"up"}-fill text-xl`})}),(0,d.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:q?0:o,onChange:a=>{let b=Number(a.target.value);p(b),r(0===b)},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),(0,d.jsxs)("span",{className:"text-white text-sm",children:[C(k)," / ",C(m)]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsxs)("button",{className:"text-white hover:text-red-500 text-sm cursor-pointer",children:[w,"x"]}),(0,d.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg py-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[.5,.75,1,1.25,1.5,2].map(a=>(0,d.jsxs)("button",{onClick:()=>{x(a)},className:`block px-3 py-1 text-sm hover:bg-gray-800 cursor-pointer ${w===a?"text-red-500":"text-white"}`,children:[a,"x"]},a))})]}),(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsxs)("button",{className:"text-white hover:text-red-500 text-sm cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-hd-fill mr-1"}),y]}),(0,d.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg py-2 opacity-0 group-hover:opacity-100 transition-opacity",children:["720p","1080p","4K"].map(a=>(0,d.jsx)("button",{onClick:()=>{z(a)},className:`block px-3 py-1 text-sm hover:bg-gray-800 whitespace-nowrap cursor-pointer ${y===a?"text-red-500":"text-white"}`,children:a},a))})]}),(0,d.jsx)("button",{onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),t(!1)):(A.current?.requestFullscreen(),t(!0))},className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:`ri-${s?"fullscreen-exit":"fullscreen"}-fill text-xl`})}),(0,d.jsx)("button",{onClick:f,className:"text-white hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-close-line text-2xl"})})]})]})]})]}),(0,d.jsx)("div",{className:"bg-black/95 p-4 border-t border-gray-800",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-white font-semibold",children:c}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:["Epis\xf3dio ",b]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,d.jsx)("i",{className:"ri-eye-line"}),(0,d.jsx)("span",{children:"Assistindo agora"})]})]})})]})}function D({animeId:a,episodeNumber:b}){let[c,f]=(0,e.useState)(!1),[g,i]=(0,e.useState)(""),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)([]),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(!0),[r,s]=(0,e.useState)(h.x.getCurrentUser()),t=a=>{if(!r){window.location.href="/login";return}i(a),f(!0),u(),v(`✨ ${r.name} entrou na festa!`)},u=()=>{let a=[{id:"1",name:"Ana Silva",isHost:!1,isOnline:!0},{id:"2",name:"Carlos Santos",isHost:!1,isOnline:!0},{id:"3",name:"Maria Oliveira",isHost:!1,isOnline:!1}];r&&a.unshift({id:r.id,name:r.name,avatar:r.avatar,isHost:!0,isOnline:!0}),k(a)},v=a=>{let b={id:Date.now().toString(),userId:"system",userName:"Sistema",message:a,timestamp:new Date().toISOString(),type:"message"};m(a=>[...a,b])};return c?(0,d.jsxs)("div",{className:"fixed bottom-4 right-4 w-80 bg-gray-900 rounded-lg shadow-2xl border border-gray-700 z-40",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-white font-semibold",children:"\uD83C\uDFAC Festa"}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:["C\xf3digo: ",g]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>q(!p),className:"text-gray-400 hover:text-white cursor-pointer",children:(0,d.jsx)("i",{className:`ri-chat-${p?"off":"on"}-line`})}),(0,d.jsx)("button",{onClick:()=>{f(!1),i(""),k([]),m([])},className:"text-gray-400 hover:text-red-400 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-close-line"})})]})]}),(0,d.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("span",{className:"text-white text-sm font-medium",children:["Assistindo (",j.length,")"]}),(0,d.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(g),className:"text-purple-400 hover:text-purple-300 text-sm cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-share-line mr-1"}),"Compartilhar"]})]}),(0,d.jsxs)("div",{className:"flex -space-x-2",children:[j.slice(0,6).map(a=>(0,d.jsxs)("div",{className:"relative",title:a.name,children:[a.avatar?(0,d.jsx)("img",{src:a.avatar,alt:a.name,className:"w-8 h-8 rounded-full border-2 border-gray-900 object-cover"}):(0,d.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full border-2 border-gray-900 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-xs font-bold",children:a.name.charAt(0).toUpperCase()})}),a.isHost&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full border border-gray-900"}),(0,d.jsx)("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-gray-900 ${a.isOnline?"bg-green-500":"bg-gray-500"}`})]},a.id)),j.length>6&&(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded-full border-2 border-gray-900 flex items-center justify-center",children:(0,d.jsxs)("span",{className:"text-white text-xs",children:["+",j.length-6]})})]})]}),p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"h-48 overflow-y-auto p-4 space-y-2",children:0===l.length?(0,d.jsxs)("div",{className:"text-center text-gray-400 text-sm py-4",children:[(0,d.jsx)("i",{className:"ri-chat-3-line text-2xl mb-2"}),(0,d.jsx)("p",{children:"Nenhuma mensagem ainda"})]}):l.map(a=>(0,d.jsx)("div",{className:`flex items-start gap-2 ${"reaction"===a.type?"justify-center":""}`,children:"reaction"===a.type?(0,d.jsxs)("div",{className:"bg-gray-800 px-3 py-1 rounded-full",children:[(0,d.jsx)("span",{className:"text-2xl",children:a.message}),(0,d.jsx)("span",{className:"text-gray-400 text-xs ml-2",children:a.userName})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)("span",{className:"text-white text-xs",children:a.userName.charAt(0).toUpperCase()})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-white text-sm font-medium",children:a.userName}),(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:new Date(a.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:a.message})]})]})},a.id))}),(0,d.jsx)("div",{className:"flex justify-center gap-2 p-2 border-t border-gray-700",children:["\uD83D\uDE02","❤️","\uD83D\uDE2E","\uD83D\uDC4F","\uD83D\uDD25","\uD83D\uDE0D"].map(a=>(0,d.jsx)("button",{onClick:()=>(a=>{if(!r)return;let b={id:Date.now().toString(),userId:r.id,userName:r.name,message:a,timestamp:new Date().toISOString(),type:"reaction"};m(a=>[...a,b])})(a),className:"text-lg hover:scale-110 transition-transform cursor-pointer",children:a},a))}),(0,d.jsx)("form",{onSubmit:a=>{if(a.preventDefault(),!n.trim()||!r)return;let b={id:Date.now().toString(),userId:r.id,userName:r.name,message:n.trim(),timestamp:new Date().toISOString(),type:"message"};m(a=>[...a,b]),o("")},className:"p-4 border-t border-gray-700",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"Digite uma mensagem...",className:"flex-1 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:200}),(0,d.jsx)("button",{type:"submit",disabled:!n.trim(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:(0,d.jsx)("i",{className:"ri-send-plane-line"})})]})})]})]}):(0,d.jsx)("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-lg p-6",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("i",{className:"ri-group-line text-4xl text-purple-400 mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"\uD83C\uDFAC Festa de Assistir"}),(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:"Assista junto com seus amigos em tempo real! Sincronize a reprodu\xe7\xe3o e converse no chat."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[(0,d.jsxs)("button",{onClick:()=>{if(!r){window.location.href="/login";return}let a=Math.random().toString(36).substr(2,8).toUpperCase();i(a),f(!0),k([{id:r.id,name:r.name,avatar:r.avatar,isHost:!0,isOnline:!0}]),v(`🎉 Festa criada! Compartilhe o c\xf3digo: ${a}`)},className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors whitespace-nowrap cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-add-line mr-2"}),"Criar Festa"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"text",placeholder:"C\xf3digo da festa",className:"bg-gray-800 text-white px-4 py-3 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:8,onChange:a=>8===a.target.value.length&&t(a.target.value)}),(0,d.jsx)("button",{onClick:()=>{let a=document.querySelector('input[placeholder="C\xf3digo da festa"]');a?.value&&t(a.value)},className:"bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors whitespace-nowrap cursor-pointer",children:"Entrar"})]})]})]})})}var E=c(7893);function F({userId:a}){let[b,c]=(0,e.useState)([]),[f,i]=(0,e.useState)(!0),[j,k]=(0,e.useState)(h.x.getCurrentUser());return j?f?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-white",children:"Gerando recomenda\xe7\xf5es personalizadas..."})]}):(0,d.jsxs)("section",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFAF Recomendado para voc\xea"}),(0,d.jsx)("p",{className:"text-gray-400",children:"Baseado no seu hist\xf3rico de visualiza\xe7\xe3o e prefer\xeancias"})]}),b.length>0?(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:b.map(a=>(0,d.jsx)(E.A,{anime:a},a.mal_id))}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("i",{className:"ri-search-eye-line text-4xl text-gray-400 mb-4"}),(0,d.jsx)("h4",{className:"text-gray-300 text-lg mb-2",children:"Ainda n\xe3o h\xe1 recomenda\xe7\xf5es"}),(0,d.jsx)("p",{className:"text-gray-400 mb-4",children:"Adicione alguns animes aos favoritos para receber recomenda\xe7\xf5es personalizadas!"}),(0,d.jsx)(g(),{href:"/trending",className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors inline-block cursor-pointer",children:"Explorar Animes"})]}),(0,d.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"text-white font-semibold mb-2",children:"Como funciona?"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-300",children:[(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("i",{className:"ri-heart-line text-red-500 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"An\xe1lise de Favoritos:"})," Analisamos seus animes favoritos para entender seu gosto"]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("i",{className:"ri-eye-line text-blue-500 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Hist\xf3rico de Visualiza\xe7\xe3o:"})," Consideramos o que voc\xea j\xe1 assistiu"]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("i",{className:"ri-magic-line text-purple-500 mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Algoritmo Inteligente:"})," Sugerimos animes similares ao seu perfil"]})]})]})]})]}):(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-2xl p-8 text-center",children:[(0,d.jsx)("i",{className:"ri-lightbulb-line text-4xl text-purple-400 mb-4"}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Recomenda\xe7\xf5es Personalizadas"}),(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:"Entre na sua conta para receber recomenda\xe7\xf5es baseadas no seu gosto pessoal!"}),(0,d.jsx)(g(),{href:"/login",className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors inline-block cursor-pointer",children:"Fazer Login"})]})}function G({animeId:a}){let[b,c]=(0,e.useState)(null),[f,j]=(0,e.useState)([]),[k,l]=(0,e.useState)([]),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(!0),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(null),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!1),[E,G]=(0,e.useState)(1),[H,I]=(0,e.useState)("episodes");if(o)return(0,d.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("div",{className:"pt-16 flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-white text-lg",children:"Carregando informa\xe7\xf5es..."})]})})]});if(!b)return(0,d.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("div",{className:"pt-16 flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("i",{className:"ri-error-warning-line text-6xl text-red-500 mb-4"}),(0,d.jsx)("h2",{className:"text-2xl text-white mb-4",children:"Anime n\xe3o encontrado"}),(0,d.jsx)(g(),{href:"/",className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:"Voltar ao In\xedcio"})]})})]});let J="string"==typeof b.title?b.title:b.title_english||b.title_japanese||"T\xedtulo n\xe3o dispon\xedvel",K=(()=>{if(!m||!m.temporadas)return Array.from({length:b?.episodes||12},(a,b)=>({numero:b+1,nome:`Epis\xf3dio ${b+1}`,duracao:"24 min"}));let a=[];for(let b of m.temporadas)a.push(...b.episodios);return a})();return(0,d.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,d.jsx)(i.A,{}),(0,d.jsxs)("section",{className:"relative h-screen flex items-center bg-cover bg-center",style:{backgroundImage:b.bannerImage?`linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.9) 100%), url(${b.bannerImage})`:`linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.9) 100%), url('https://readdy.ai/api/search-image?query=anime%20$%7BanimeTitle%7D%20epic%20scene%20with%20dramatic%20lighting%20and%20vibrant%20colors%2C%20high%20quality%20anime%20artwork%2C%20cinematic%20composition%2C%20beautiful%20detailed%20background&width=1920&height=1080&seq=detail${a}&orientation=landscape')`},children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),(0,d.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 grid grid-cols-1 lg:grid-cols-3 gap-8 items-center h-full pt-16",children:[(0,d.jsxs)("div",{className:"lg:col-span-2",children:[(0,d.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight",children:J}),b.title_english&&b.title_english!==J&&(0,d.jsx)("h2",{className:"text-2xl text-gray-300 mb-4",children:b.title_english}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[b.score&&(0,d.jsxs)("div",{className:"flex items-center text-yellow-400",children:[(0,d.jsx)("i",{className:"ri-star-fill mr-2"}),(0,d.jsx)("span",{className:"font-bold text-xl",children:b.score}),b.scored_by&&(0,d.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",b.scored_by.toLocaleString()," votos)"]})]}),b.year&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"•"}),(0,d.jsx)("span",{className:"text-white",children:b.year})]}),b.episodes&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"•"}),(0,d.jsxs)("span",{className:"text-white",children:[b.episodes," epis\xf3dios"]})]}),b.rating&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-gray-400",children:"•"}),(0,d.jsx)("span",{className:"text-white",children:b.rating})]})]}),b.genres&&b.genres.length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:b.genres.map(a=>(0,d.jsx)("span",{className:"bg-red-600/20 text-red-400 px-3 py-1 rounded-full text-sm font-medium",children:a.name},a.mal_id||a.name))}),(0,d.jsx)("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed line-clamp-4",children:b.synopsis}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsxs)("button",{onClick:()=>((b=1)=>{if(!h.x.getCurrentUser()){window.location.href="/login";return}G(b),z(!0),h.x.addToWatchHistory(a,b)})(),className:"bg-red-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-red-700 transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-play-fill text-xl"}),"Assistir Agora"]}),(0,d.jsxs)("button",{onClick:()=>{if(!h.x.getCurrentUser()){window.location.href="/login";return}q?(h.x.removeFromWatchlist(a),r(!1)):(h.x.addToWatchlist(a),r(!0))},className:`px-8 py-3 rounded-lg text-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer ${q?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-800/80 text-white hover:bg-gray-700"}`,children:[(0,d.jsx)("i",{className:`ri-bookmark-${q?"fill":"line"} text-xl`}),q?"Na Minha Lista":"Adicionar \xe0 Lista"]}),(0,d.jsxs)("button",{onClick:()=>{if(!h.x.getCurrentUser()){window.location.href="/login";return}s?(h.x.removeFromFavorites(a),t(!1)):(h.x.addToFavorites(a),t(!0))},className:`px-8 py-3 rounded-lg text-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer ${s?"bg-pink-600 text-white hover:bg-pink-700":"bg-gray-800/80 text-white hover:bg-gray-700"}`,children:[(0,d.jsx)("i",{className:`ri-heart-${s?"fill":"line"} text-xl`}),s?"Favoritado":"Favoritar"]}),b.trailer&&b.trailer.youtube_id&&(0,d.jsxs)("button",{onClick:()=>x(!0),className:"bg-gray-800/80 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-gray-700 transition-colors flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-video-line text-xl"}),"Trailer"]})]})]}),(0,d.jsx)("div",{className:"hidden lg:block",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("img",{src:b.images.jpg.large_image_url||b.images.jpg.image_url,alt:J,className:"w-full max-w-sm mx-auto rounded-lg shadow-2xl"}),b.rank&&(0,d.jsx)("div",{className:"absolute -bottom-4 -right-4 bg-black/80 text-white px-4 py-2 rounded-lg",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("div",{className:"text-2xl font-bold text-yellow-400",children:["#",b.rank]}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Ranking"})]})})]})})]})]}),(0,d.jsx)("section",{className:"py-8 bg-gray-900/50",children:(0,d.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h3",{className:"text-xl text-white mb-4",children:"Avalie este anime"}),(0,d.jsx)("div",{className:"flex items-center justify-center gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(b=>(0,d.jsx)("button",{onClick:()=>(b=>{if(!h.x.getCurrentUser()){window.location.href="/login";return}h.x.rateAnime(a,b),v(b)})(b),className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-colors cursor-pointer ${u&&u>=b?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:b},b))}),u&&(0,d.jsxs)("p",{className:"text-yellow-400 mt-2",children:["Sua avalia\xe7\xe3o: ",u,"/10"]})]})})}),(0,d.jsx)("main",{className:"py-12 space-y-12",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:[{id:"episodes",label:"\uD83D\uDCFA Epis\xf3dios",icon:"ri-film-line"},{id:"info",label:"ℹ️ Informa\xe7\xf5es",icon:"ri-information-line"},{id:"characters",label:"\uD83D\uDC65 Personagens",icon:"ri-group-line"},{id:"comments",label:"\uD83D\uDCAC Coment\xe1rios",icon:"ri-chat-3-line"},{id:"recommendations",label:"\uD83C\uDFAF Recomenda\xe7\xf5es",icon:"ri-magic-line"}].map(a=>(0,d.jsxs)("button",{onClick:()=>I(a.id),className:`px-6 py-3 rounded-full font-semibold transition-colors whitespace-nowrap cursor-pointer ${H===a.id?"bg-red-600 text-white":"bg-gray-800/50 text-gray-300 hover:bg-gray-700"}`,children:[(0,d.jsx)("i",{className:`${a.icon} mr-2`}),a.label]},a.id))}),"episodes"===H&&(0,d.jsx)(B,{animeId:a,episodes:K,totalEpisodes:b.episodes}),"info"===H&&(0,d.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Informa\xe7\xf5es"}),(0,d.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,d.jsx)("span",{className:"text-white",children:b.status})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Fonte:"}),(0,d.jsx)("span",{className:"text-white",children:b.source})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Dura\xe7\xe3o:"}),(0,d.jsx)("span",{className:"text-white",children:b.duration})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Exibi\xe7\xe3o:"}),(0,d.jsx)("span",{className:"text-white",children:b.aired?.string})]}),b.studios&&b.studios.length>0&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Est\xfadios:"}),(0,d.jsx)("span",{className:"text-white",children:b.studios.map(a=>a.name).join(", ")})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Popularidade:"}),(0,d.jsxs)("span",{className:"text-white",children:["#",b.popularity]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Membros:"}),(0,d.jsx)("span",{className:"text-white",children:b.members?.toLocaleString()})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-400",children:"Favoritos:"}),(0,d.jsx)("span",{className:"text-white",children:b.favorites?.toLocaleString()})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900/30 rounded-lg p-6",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Sinopse"}),(0,d.jsx)("p",{className:"text-gray-300 leading-relaxed",children:b.synopsis})]})]}),"characters"===H&&f.length>0&&(0,d.jsxs)("section",{children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Personagens Principais"}),(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map(a=>(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("img",{src:a.character.images.jpg.image_url,alt:a.character.name,className:"w-full aspect-[3/4] object-cover object-top rounded-lg mb-2"}),(0,d.jsx)("h4",{className:"text-white text-sm font-semibold line-clamp-2",children:a.character.name}),(0,d.jsx)("p",{className:"text-gray-400 text-xs",children:a.role})]},a.character.mal_id))})]}),"comments"===H&&(0,d.jsx)(A,{animeId:a}),"recommendations"===H&&(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsx)(F,{}),k.length>0&&(0,d.jsxs)("section",{children:[(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-6",children:"Animes Similares"}),(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:k.map(a=>(0,d.jsx)(g(),{href:`/anime/${a.entry.mal_id}`,className:"cursor-pointer",children:(0,d.jsxs)("div",{className:"group",children:[(0,d.jsx)("div",{className:"aspect-[3/4] relative overflow-hidden rounded-lg",children:(0,d.jsx)("img",{src:a.entry.images.jpg.image_url,alt:a.entry.title,className:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300"})}),(0,d.jsx)("h4",{className:"text-white text-sm font-semibold mt-2 line-clamp-2 group-hover:text-red-500 transition-colors",children:a.entry.title}),(0,d.jsxs)("p",{className:"text-gray-400 text-xs",children:[a.votes," recomenda\xe7\xf5es"]})]})},a.entry.mal_id))})]})]})]})}),y&&(0,d.jsx)(C,{animeId:a,episodeNumber:E,episodeTitle:`${J} - Epis\xf3dio ${E}`,onClose:()=>z(!1),onNext:E<(b.episodes||12)?()=>G(a=>a+1):void 0,onPrevious:E>1?()=>G(a=>a-1):void 0}),(0,d.jsx)(D,{animeId:a,episodeNumber:E}),w&&b.trailer&&b.trailer.youtube_id&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden max-w-4xl w-full",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,d.jsxs)("h3",{className:"text-white text-xl font-bold",children:["Trailer - ",J]}),(0,d.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white cursor-pointer",children:(0,d.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,d.jsx)("div",{className:"aspect-video",children:(0,d.jsx)("iframe",{src:b.trailer.embed_url,className:"w-full h-full",allowFullScreen:!0,title:`Trailer ${J}`})})]})})]})}},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9494:(a,b,c)=>{Promise.resolve().then(c.bind(c,8124))}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[625,418,138],()=>b(b.s=3433));module.exports=c})();